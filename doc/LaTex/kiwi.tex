%%============================================================
%% Preamble
%%------------------------------------------------------------
\documentclass[12pt, english, a4paper, headsepline, footsepline,
BCOR1.5cm, DIV16, bigheadings, bibtotoc, idxtotoc, headinclude,
footexclude, abstracton]{scrbook}

%scrreprt

\NeedsTeXFormat{LaTeX2e}
%%==============================
%% Packages
%%------------------------------
%\usepackage{german}
%\usepackage{bibgerm}
\usepackage{url}
\usepackage{makeidx}
\usepackage{epsfig}
\usepackage{alltt}
\usepackage{varioref}
%\usepackage[dvips]{color}
\usepackage{boxedminipage}
\usepackage{minitoc}
\usepackage{fancybox}
\usepackage{vmargin}
\usepackage{amsmath}
\usepackage{longtable}
\usepackage{verbatim}
\usepackage{version}
\usepackage{rotating}
\usepackage{textcomp}
% Environment for code listings
\usepackage{listings}


% TF:
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[
colorlinks=true,
linkcolor=blue,
urlcolor=blue,
bookmarks=true,
bookmarksopen=false,
bookmarksnumbered=true,
pdfpagemode=UseOutlines, % options are: None,UseThumbs,UseOutlines,FullScreen
pdfstartview=FitV,       % options are: fit[ |h|v|b|bh|bv]
hyperindex=true]{hyperref}

\lstloadlanguages{bash,XML}

%\lstset{language=Bash} % C++ als Programmiersprache im listings package
%\lstset{extendedchars, breaklines, basicstyle=\ttfamily\normalsize}
%\lstset{keywordstyle=\color[rgb]{0.00,0.00,0.50}{}\bfseries,commentstyle=\color[rgb]{0.00,0.50,0.25}{}}
%\lstset{numbers=left, stepnumber=1, numberstyle=\tiny, xleftmargin=1em, numbersep=10pt}
%\lstset{basewidth={0.5em,0.45em}, captionpos=b}
%\lstset{frame=tb, framerule=0.5pt}

%%==============================
%% Definitions
%%------------------------------
%\newenvironment{Command}%
% {\begin{Sbox}\begin{small}\begin{minipage}\ttfamily}%
% {\end{minipage}\end{small}\end{Sbox}%
%  %%\begin{center}\Large\shadowbox{\TheSbox}\end{center}}
%  \vspace{0.5cm}\shadowbox{\TheSbox}\vspace{0.5cm}}

\lstnewenvironment{Command}%
{\lstset{language=Bash,%
extendedchars,breaklines,basicstyle=\ttfamily\normalsize,%
keywordstyle=\color[rgb]{0.00,0.00,0.50}{}\bfseries,%
commentstyle=\color[rgb]{0.00,0.50,0.25}{},%
numbers=left,stepnumber=1,numberstyle=\tiny,%
xleftmargin=1.12em,%numbersep=10pt,%
basewidth={0.5em,0.45em},captionpos=b,%
frame=tb,framerule=0.5pt,%
morekeywords={yast2,kiwi,qemu,dd,cp,vbladed,rpm,sort,grep,diff,git,patch,mount,mkdir},%
}%
}% end of start environment
{}

\lstnewenvironment{xml}%
{\lstset{language=XML,
commentstyle=\itshape,
extendedchars,breaklines,basicstyle=\ttfamily\normalsize,%
upquote=true,% we want really normal quotes, not typographical ones
numbers=left,numberstyle=\tiny,
xleftmargin=1.12em,
basewidth={0.5em,0.45em},captionpos=b,
}%
}% end of start environment
{}

\renewcommand{\rmdefault}{bch}
\renewcommand*\descfont{\normalfont\bfseries}
\renewcommand*\sectfont{\normalfont\bfseries}
\renewcommand{\ttdefault}{cmtt}
\DeclareFontShape{OT1}{cmtt}{bx}{n} {
  <5><6><7><8>cmtt8
  <9> cmbtt9
  <10><10.95> <12><14.4><17.28><20.74><24.88> cmbtt10 }{}
\parskip.5ex
\parindent0cm
\setcounter{tocdepth}{2}
\renewcommand{\mtcSfont}{\normalfont\bfseries}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\Code}[1]{{\ttfamily\bfseries #1}}
\newcommand{\longcomment}[1]{}
\pagestyle{headings}

\setpapersize{A4}
%\setmarginsrb{3cm}{0cm}{3.8cm}{2cm}{2cm}{1cm}{2cm}{1cm}
\newcommand{\bs}{$\backslash$}
\newcommand{\ca}{\symbol{94}}
\newcommand{\ti}{\symbol{126}}

% A Shell command like df
\newcommand{\cmd}[1]{\texttt{#1}}

% An option for a (Shell) command, like --help
\newcommand{\option}[1]{\texttt{--{}--#1}}

% An inline quotation 
\newcommand{\kquote}[1]{``#1''}

%%
%% Specific macros for XML layout:
%%
% An XML start tag, like <foo>
\newcommand{\xmlstarttag}[1]{\texttt{\textless#1\textgreater}}

% An XML end tag, like </foo>
\newcommand{\xmlendtag}[1]{\texttt{\textless/#1\textgreater}}

% An XML empty tag, like <foo/>
\newcommand{\xmlemptytag}[1]{\texttt{\textless#1/\textgreater}}

% An XML attribute with its value, like foo="bar"
\newcommand{\xmlattrval}[2]{\texttt{#1\linebreak[2]=\linebreak[2]\textquotedbl#2\textquotedbl}}

% A single XML attribute
\newcommand{\xmlattr}[1]{\texttt{#1}}% XML attribute

% A single XML attribute value
\newcommand{\xmlval}[1]{\texttt{#1}}% XML attribute value

% A single XML element (without the angle brackets)
\newcommand{\xmlelement}[1]{\texttt{#1}}



\includeversion{Yes}
\excludeversion{No}

%%==============================
%% Titlepage
%%------------------------------
\subject{KIWI Project}

\title{
  openSUSE-KIWI Image System\\
  Cookbook
}

\author{
  Project, Design and Implementation\\
  by Marcus Schaefer (ms@suse.de)\\
  \thanks{
  SUSE LINUX Products GmbH, Maxfeldstrasse 5, D-90409 Nuremberg
  }
}

\date{
 \vspace{1cm}
 \epsfig{
   file=pictures/logo.ps,width=4cm
 }\\
 \vspace{1.5cm}
 \vspace{2cm}
 \begin{tabbing}
  \hspace{2.6cm} Author: \quad\= Marcus Schaefer\\
  \hspace{2.6cm} Date:\>  \today\\
  \hspace{2.6cm} Version:\> \input {Revision.txt}
 \end{tabbing}
}

\publishers{}

% Imprint
\uppertitleback{\textbf{openSUSE-KIWI Image System---Cookbook}\\[1.25em]

Permission is granted to copy, distribute and/or modify this document under the
terms of the GNU Free Documentation License, Version 1.2 or (at your option) 
version 1.3; with the Invariant Section being this copyright notice and license.
A copy of the license version 1.2 is included in the appendix entitled
\kquote{GNU Free Documentation License}.\\

SUSE\textregistered{}, openSUSE\textregistered{}, the openSUSE\textregistered{}
logo, Novell\textregistered{}, the Novell\textregistered{} logo, the 
N\textregistered{} logo, are registered trademarks of Novell, Inc.\ in the
United States and other countries.
Linux\textregistered{} is a registered trademark of Linux Torvalds. 
All other thrid party trademarks are the property of their respective owners.\\

All information found in this book has been compiled with utmost attention to
detail. However, this does not guarantee complete accuracy. Neither Novell, 
Inc., SUSE Linux Products GmbH, the authors, nor the translators shall be held
liable for possible errors or the consequences thereof.
}
%\lowertitleback{Fill in the gaps...}


%%============================================================
%% Start document
%%------------------------------------------------------------
\makeindex
\begin{document}
\dominitoc

\maketitle
\tableofcontents


%%============================================================
%% all input sources
%%------------------------------------------------------------
\input intro
\input workflow
\input description
\input appliance
\input maintenance
\input migrate
\input source
\input iso
\input usb
\input vmx
\input pxe
\input oem
\input xen
\input ec2
\input testing
\printindex
\begin{appendix}
\input appendix
\end{appendix}
\end{document}
